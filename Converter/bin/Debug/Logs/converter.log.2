DEBUG 2022-01-16 14:18:18,045 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:865) - parsed table schema for [Bookings]
DEBUG 2022-01-16 14:18:18,249 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:865) - parsed table schema for [Buildings]
DEBUG 2022-01-16 14:18:18,436 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:865) - parsed table schema for [Companies]
DEBUG 2022-01-16 14:18:18,614 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:865) - parsed table schema for [Configurations]
DEBUG 2022-01-16 14:18:18,802 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:865) - parsed table schema for [DataProtectionKeys]
DEBUG 2022-01-16 14:18:18,996 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:865) - parsed table schema for [Emails]
DEBUG 2022-01-16 14:18:19,178 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:865) - parsed table schema for [Floors]
DEBUG 2022-01-16 14:18:19,368 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:865) - parsed table schema for [JobLogs]
DEBUG 2022-01-16 14:18:19,563 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:865) - parsed table schema for [Notifications]
DEBUG 2022-01-16 14:18:19,753 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:865) - parsed table schema for [Offices]
DEBUG 2022-01-16 14:18:19,938 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:865) - parsed table schema for [Onboardings]
DEBUG 2022-01-16 14:18:20,118 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:865) - parsed table schema for [WorkingPolicies]
DEBUG 2022-01-16 14:18:20,303 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:865) - parsed table schema for [SQLSessions]
DEBUG 2022-01-16 14:18:20,490 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:865) - parsed table schema for [Users]
DEBUG 2022-01-16 14:18:20,670 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:865) - parsed table schema for [UsersTeamsLink]
DEBUG 2022-01-16 14:18:20,862 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:865) - parsed table schema for [Selections]
DEBUG 2022-01-16 14:18:21,046 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:865) - parsed table schema for [SlackTeams]
DEBUG 2022-01-16 14:18:21,234 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:865) - parsed table schema for [SlackMembers]
DEBUG 2022-01-16 14:18:21,421 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:865) - parsed table schema for [Events]
DEBUG 2022-01-16 14:18:21,609 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:865) - parsed table schema for [SeatArchitectures]
DEBUG 2022-01-16 14:18:21,793 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:865) - parsed table schema for [Seats]
DEBUG 2022-01-16 14:18:21,974 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:865) - parsed table schema for [Locations]
DEBUG 2022-01-16 14:18:22,156 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:865) - parsed table schema for [Meetings]
DEBUG 2022-01-16 14:18:22,348 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:865) - parsed table schema for [MeetingUsers]
DEBUG 2022-01-16 14:18:22,526 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:865) - parsed table schema for [Teams]
DEBUG 2022-01-16 14:18:22,526 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:869) - finished parsing all tables in SQL Server schema
DEBUG 2022-01-16 14:18:26,674 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:487) - Creating SQLite database...
DEBUG 2022-01-16 14:18:26,675 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:492) - SQLite file was created successfully at [C:\Users\Benjamin\Documents\test.db]
DEBUG 2022-01-16 14:18:26,749 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:751) - DEFAULT VALUE BEFORE [(newid)] AFTER [(lower(hex(randomblob(4))) || '-' || lower(hex(randomblob(2))) || '-4' || substr(lower(hex(randomblob(2))),2) || '-' || substr('89ab',abs(random()) % 4 + 1, 1) || substr(lower(hex(randomblob(2))),2) || '-' || lower(hex(randomblob(6))))]
DEBUG 2022-01-16 14:18:26,750 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:751) - DEFAULT VALUE BEFORE [] AFTER []
DEBUG 2022-01-16 14:18:26,750 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:751) - DEFAULT VALUE BEFORE [(getdate)] AFTER [getdate]
DEBUG 2022-01-16 14:18:26,750 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:754) - converted SQL Server GETDATE() to CURRENT_TIMESTAMP for column [CreationDate]
 INFO 2022-01-16 14:18:26,750 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:597) - 

CREATE TABLE [Companies] (
	"Id"		char(36) NOT NULL DEFAULT (lower(hex(randomblob(4))) || '-' || lower(hex(randomblob(2))) || '-4' || substr(lower(hex(randomblob(2))),2) || '-' || substr('89ab',abs(random()) % 4 + 1, 1) || substr(lower(hex(randomblob(2))),2) || '-' || lower(hex(randomblob(6)))),
	"Name"		nvarchar COLLATE NOCASE,
	"CreationDate"		datetime NOT NULL DEFAULT (CURRENT_TIMESTAMP),
    PRIMARY KEY ([Id])

);



DEBUG 2022-01-16 14:18:26,765 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:517) - added schema for SQLite table [Companies]
DEBUG 2022-01-16 14:18:26,768 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:542) - finished adding all table/view schemas for SQLite database
DEBUG 2022-01-16 14:18:26,769 (G:\Projects\Personnal\Convert-SQL-Server-to-SQLite\DbAccess\SqlServerToSQLite.cs:141) - preparing to insert tables ...
ERROR 2022-01-16 14:22:40,718 (:0) - unexpected exception
code = Constraint (19), message = System.Data.SQLite.SQLiteException (0x800027AF): constraint failed
UNIQUE constraint failed: Companies.Id
   at System.Data.SQLite.SQLite3.Reset(SQLiteStatement stmt)
   at System.Data.SQLite.SQLite3.Step(SQLiteStatement stmt)
   at System.Data.SQLite.SQLiteDataReader.NextResult()
   at System.Data.SQLite.SQLiteDataReader..ctor(SQLiteCommand cmd, CommandBehavior behave)
   at System.Data.SQLite.SQLiteCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SQLite.SQLiteCommand.ExecuteNonQuery(CommandBehavior behavior)
   at System.Data.SQLite.SQLiteCommand.ExecuteNonQuery()
   at DbAccess.SqlServerToSQLite.CopySqlServerRowsToSQLiteDB(String sqlConnString, String sqlitePath, List`1 schema, String password, SqlConversionHandler handler)
ERROR 2022-01-16 14:22:40,725 (:0) - Failed to convert SQL Server database to SQLite database
code = Constraint (19), message = System.Data.SQLite.SQLiteException (0x800027AF): constraint failed
UNIQUE constraint failed: Companies.Id
   at System.Data.SQLite.SQLite3.Reset(SQLiteStatement stmt)
   at System.Data.SQLite.SQLite3.Step(SQLiteStatement stmt)
   at System.Data.SQLite.SQLiteDataReader.NextResult()
   at System.Data.SQLite.SQLiteDataReader..ctor(SQLiteCommand cmd, CommandBehavior behave)
   at System.Data.SQLite.SQLiteCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SQLite.SQLiteCommand.ExecuteNonQuery(CommandBehavior behavior)
   at System.Data.SQLite.SQLiteCommand.ExecuteNonQuery()
   at DbAccess.SqlServerToSQLite.CopySqlServerRowsToSQLiteDB(String sqlConnString, String sqlitePath, List`1 schema, String password, SqlConversionHandler handler)
   at DbAccess.SqlServerToSQLite.ConvertSqlServerDatabaseToSQLiteFile(String sqlConnString, String sqlitePath, String password, SqlConversionHandler handler, SqlTableSelectionHandler selectionHandler, FailedViewDefinitionHandler viewFailureHandler, Boolean createTriggers)
   at DbAccess.SqlServerToSQLite.<>c__DisplayClass5_0.<ConvertSqlServerToSQLiteDatabase>b__0(Object state)
